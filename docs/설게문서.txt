# 주차장 차량관리 시스템

## 목적

주차 차단기가 없는 아파트가 있다. 차단기가 없기 때문에 외부 차량이 주차장까지 들어올 수 있다.

방문한 차는 관리실에 방문증을 발급받고 차량에 비치해야 한다.

방문증이 없는 차들이 늘어나면서 관리원은 주차장의 차 하나씩 앞유리를 확인해서 불법 주차 단속을 한다.

진하게 썬팅된 유리로 된 차량이나 늦은 시간에는 입주민 스티커를 확인하기 쉽지 않다.  

차량이 많고 확인이 불편하기 때문에 불법 주차 스티커를 붙이는 횟수가 적고 결과적으로 아파트에 외부 차량이 늘고 주차 공간이 부족하게 되어 입주민의 이중 주차가 늘어나고 있다.

문제를 해결하기 위해 휴대폰 카메라를 이용해서 아파트 주민 차량과 외부 차량을 인식할 수 있는 앱을 개발하고자 한다.

관리원의 주차 단속 업무 효율과 주차장의 주차 공간을 확보하기 위해 앱을 개발하여 제공한다.

### 기능 요구 명세

아파트 관리사무소에서 스토어에서 앱을 다운로드 한다.

앱을 실행하고 아파트 고유코드가 없기 때문에 신규 아파트 정보를 등록한다. 아파트 이름과 주소 등의 정보를 입력하고 로그인할 고유코드를 저장한다.

로그인 화면에서 고유코드를 입력해서 메인화면으로 이동한다. 관리자는 아파트의 등록된 차량을 앱에 등록한다. 아파트 호수와 차량 번호를 등록한다. 

방문 차량이 아파트에 들어온 경우 방문 차량을 등록한다. 방문한 아파트 호수와 차량 번호, 방문 기간을 등록해서 방문한 이력을 관리한다.

방문한 차량을 조회하고 방문 기간이 지난 차량, 유효한 차량을 확인할 수 있다.

방문한 이력을 관리하기 때문에 차량별 기간별 방문 횟수와 아파트 정보를 알 수 있다.

관리자의 불법 차량을 확인하기 위해 앱의 차량 확인 기능을 이용해서 카메라를 켜고 차량 번호를 인식한다.

등록된 아파트 차량, 방문차량이 아닌 경우 앱의 화면에 불법 주차 메시지가 표시된다.

불법 주차가 확인되면 주차된 일자와 차량의 정보를 저장한다. 저장된 정보로 일자와 불법주차 횟수를 확인할 수 있다. 

 

## 기능 정의

### 아파트 정보 관리

앱을 스토어에 올리고 다수의 아파트에서 다운로드를 받아서 사용할 수 있기 때문에 아파트별로 데이터를 관리한다. 

아파트 이름, 주소, 동 수, 세대 수 등 기본 정보를 관리한다. 아파트의 운영 상태를 관리해서 상태를 중지하면 앱 접속을 차단 시킨다.

### 로그인

등록된 아파트 주소 기반으로 아파트를 찾아서 로그인 화면에 표시하고, 경비원 코드를 입력하여 로그인 후 접근 로그를 저장한다.

### 아파트 차량 관리

아파트에 이미 등록된 차량 정보를 앱에 등록한다. 아파트 호수와 차량 번호를 등록한다. 아파트 고유번호와 동/호수가 키가 되어 차량 번호를 등록한다. 1개 동/호수에는 여러 대의 차가 존재할 수 있다.

### 방문 차량 관리

아파트 동/호수에 방문한 차량 번호를 저장한다. 방문 차량은 방문자의 핸드폰 번호, 방문한 일자 , 방문 종료 일자을 저장한다.

### 주차 차량 확인

앱에서 카메라를 실행하고 화면에 신분증을 촬영하듯 번호판 인식 영역이 나오고 차량 번호를 정상적으로 읽으면 아파트 차량과 방문 차량 데이터에서 검색을 한다. 아파트 차량, 방문 차량이 아닌 차량인 경우 카메라 위에 불법 주차라고 표시를 하고 확인 버튼을 노출한 다음 확인하고 번호를 저장한다. 

이력으로 차량 번호와 저장 시간만 관리한다.

### 아파트 차량 조회

동 / 호수 또는 차량 번호를 입력해서 검색할 수 있고, 차량 기준으로 보여주고, 동/호수 정보를 같이 볼 수 있는 리스트를 보여준다.

### 방문 차량 조회

방문 시작 일자, 종료일자 기간을 검색 조건으로 방문한 차량을 동/호수 정보와 같이 볼 수 있는 리스트를 보여준다.

### 주차 조회

차량 확인 기능으로 확인한 차량의 리스트를 조회한다. 조회 조건으로 확인일자를 기간으로 검색하고 입주민, 방문, 불법 3가지 종류의 확인된 차량 리스트를 보여준다.

### 데이터 정의

- 아파트 정보
    - apt_code (아파트코드)
    - apt_name (아파트명)
    - address (주소)
    - zip_code (우편번호)
    - bd_no (동 건물 수)
    - resident(입주민수)
    - status (운영 상태, 정상, 중지)
    - updated_at (수정일시)
    - created_at (등록일시)

- 경비원 정보
    - apt_code (아파트 코드)
    - **bouncer_code (경비원 코드)**
    - bouncer_name (경비원 명)
    - bouncer_no (경비원 고유번호 - FIN 번호, 암호화)
    - used (사용여부 , Y, N)
    - updated_at (수정일시)
    - created_at (등록일시)

- 계정 접근 로그
    - log_no (순번)
    - apt_code (아파트 코드)
    - bouncer_code (경비원 코드)
    - access_result (접근 결과, success, failed)
    - location (위치 정보)
    - device_id (디바이스 ID)
    - created_at (등록일시)

- 입주민 차량 정보
    - apt_code (아파트 코드)
    - bd_id (아파트 건물 ID, 동 번호, ex) 101)
    - bd_loc (건물 호수, ex) 1103 )
    - car_no (차량 번호)
    - phone (연락처)
    - used (사용 여부, Y, N)
    - bouncer_code (경비원 코드)
    - created_at (등록일시)
    - updated_at (수정일시)

- 입주민 차량 변경 이력
    - log_no (로그 순번)
    - apt_code (아파트 코드)
    - bd_id (건물 번호)
    - bd_loc (건물 호수)
    - car_no (차량번호)
    - phone (연락처)
    - used (사용여부)
    - bouncer_code (경비원 코드)
    - created_at (등록일시)

- 방문 차량 정보
    - apt_code (아파트 코드)
    - bd_id (아파트 건물 ID, 동 번호, ex) 101)
    - bd_loc (건물 호수, ex) 1103 )
    - car_no (차량 번호)
    - phone (연락처)
    - visit_date (방문일자)
    - visit_time (방문시간)
    - visit_close_date (방문종료일자)
    - bouncer_code (경비원 코드)
    - created_at (등록일시)
    - updated_at (수정일시)

- 주차 확인 정보
    - seq_no (순번)
    - apt_code (아파트 코드)
    - bouncer_code (경비원 코드)
    - car_no (차량 번호)
    - check_result (확인 결과)
    - location (위치 정보)
    - device_id (단말기 ID)
    - created_at (등록일시)
    

